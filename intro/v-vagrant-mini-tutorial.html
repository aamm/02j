
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-02-16
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>v. Vagrant mini tutorial | ZeroToJava</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/spacelab/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-intro-v-vagrant-mini-tutorial project-zerotojava" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top navbar-inverse">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://aamm.github.io/02j/"><span class="titleTop">From Zero to Java</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Intro <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Getting started">Getting started</a></li>
									<li ><a href="i-introduction.html" title="i. Introduction">i. Introduction</a></li>
									<li ><a href="ii-course-material.html" title="ii. Course Material">ii. Course Material</a></li>
									<li ><a href="iii-env-description.html" title="iii. Environment description">iii. Environment description</a></li>
									<li class="dropdown-submenu ">
										<a href="iv-setting-up-the-environment.html" title="iv. Setting up the Environment">iv. Setting up the Environment</a>
										<ul class="dropdown-menu">
											<li ><a href="iv-setting-up-the-environment-linux.html" title="Step 1 - Setting up the Environment - Linux">Step 1 - Setting up the Environment - Linux</a></li>
											<li ><a href="iv-setting-up-the-environment-windows.html" title="Step 1 - Setting up the Environment - Windows">Step 1 - Setting up the Environment - Windows</a></li>
											<li ><a href="iv-setting-up-the-environment-download-vm.html" title="Step 2 - Download the Java classes VM">Step 2 - Download the Java classes VM</a></li>
											<li ><a href="iv-setting-up-the-environment-create-vm.html" title="Step 2 - Create Java classes VM from a Ubuntu VM">Step 2 - Create Java classes VM from a Ubuntu VM</a></li>
											<li ><a href="iv-setting-up-the-environment-shortcut.html" title="Steps 1 and 2 - Linux Shortcut">Steps 1 and 2 - Linux Shortcut</a></li>
										</ul>
									</li>
									<li class="active"><a href="" title="v. Vagrant - Mini Tutorial">v. Vagrant - Mini Tutorial</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Lessons <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu ">
										<a href="../lessons/index.html" title="Lessons">Lessons</a>
										<ul class="dropdown-menu">
											<li ><a href="../lessons/lesson-1.html" title="1. Hello World!">1. Hello World!</a></li>
											<li ><a href="../lessons/lesson-2.html" title="2. Simple calculations">2. Simple calculations</a></li>
											<li ><a href="../lessons/lesson-3.html" title="3. Introduction to methods">3. Introduction to methods</a></li>
											<li ><a href="../lessons/lesson-4.html" title="4. The return clause in methods">4. The return clause in methods</a></li>
										</ul>
									</li>
									<li ><a href="../faq.html" title="FAQ">FAQ</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Languages <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../index.html" title="English">English</a></li>
									<li ><a href="../pt/index.html" title="Português do Brasil">Português do Brasil</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu ">
										<a href="../project-reports.html" title="Project Reports">Project Reports</a>
										<ul class="dropdown-menu">
											<li ><a href="../changes-report.html" title="Changes Report">Changes Report</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../about.html" title="About this site">About this site</a></li>
									<li ><a href="../license.html" title="License">License</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">Version: 0.2</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">Last Published: 2015-02-16</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
				<div class="section"> 
 <div class="page-header">
  <h2 id="v_Vagrant_mini_tutorial">v. Vagrant mini tutorial</h2>
 </div> 
 <p>Along this course Vagrant will be used all the time. Although details about Vagrant are completely out of the scope of this course, it is important that the student understands some of the basic concepts about Vagrant to get familiar with the environment.</p> 
 <p>Perhaps one of the main problems about Vagrant for the beginner is that nothing is graphically visible. The user needs to have a sort of mental image of what is going on in order to navigate. As we saw on the previous part, there are two consoles: the host and the guest, that can be identified by their prefixes:</p> 
 <div> 
  <pre>user@host:~/JavaClasses$
vagrant@vagrant-ubuntu-trusty-32:~$ </pre> 
 </div> 
 <p>The first console depends on your computer and is quite different if you are using Windows. This tutorial is divided into topics to serve as a reference but it can also be followed from begin to end if you have Vagrant already configured as presented on the previous part.</p> 
 <p>It is important that you are always at the JavaClasses directory. Being on that directory is what makes Vagrant know that you are trying to work with a certain virtual machine.</p> 
 <div class="section"> 
  <h3 id="Checking_the_status">Checking the status</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant status</pre> 
  </div> 
  <p>This command shows if the virtual machine is running or not.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Starting_the_virtual_machine">Starting the virtual machine</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant up</pre> 
  </div> 
  <p>Now that the virtual machine is running we can check the status again and see that it changed.</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant status</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Configuration_to_show_VirtualBoxs_graphical_window">Configuration to show VirtualBox's graphical window</h3> 
  <p>By default, when the VM is started, VirtualBox will run it in the background. In other words, VirtualBox does not show any graphical window. The user needs to type <tt>vagrant status</tt> to know if the VM is running or not.</p> 
  <p>Such a graphical window also makes it easy for the beginners to use the VM terminal, since this window is an alternative to SSH (the remote console). Unfortunately, the Windows operating system does not come with an SSH client. That is why we recommended Windows users to install Putty.</p> 
  <p>To configure Vagrant to show such a window when the VM is starteed, edit the Vagrantfile and change the value of the <tt>v.gui</tt> to <tt>true</tt>:</p> 
  <div> 
   <pre>v.gui = true</pre> 
  </div> 
  <p>Username and password are <i>strong</i>vagrant<i>/vagrant</i> and <i>strong</i>vagrant<i>/vagrant</i>, respectively.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Stopping_the_virtual_machine">Stopping the virtual machine</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant halt</pre> 
  </div> 
  <p>Now if we check the status, we will see that it changed to the original one.</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant status</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Accessing_the_virtual_machine_terminal">Accessing the virtual machine terminal</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant ssh
vagrant@vagrant-ubuntu-trusty-32:~$</pre> 
  </div> 
  <p>Now we are inside of the virtual machine. All changes we make, such as creating files or directories, are going to change the virtual machine (guest OS). In order to illustrate such a concept, let us create a simple directory called trash:</p> 
  <div> 
   <pre>vagrant@vagrant-ubuntu-trusty-32:~$ mkdir trash
vagrant@vagrant-ubuntu-trusty-32:~$ ls
trash</pre> 
  </div> 
  <p>We need to go back to the host machine to compare the contents.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Leaving_the_virtual_machine">Leaving the virtual machine</h3> 
  <div> 
   <pre>vagrant@vagrant-ubuntu-trusty-32:~$ exit
user@host:~/JavaClasses$</pre> 
  </div> 
  <p>It is as simple as ending any console session. We can now check the contents of the host machine and we will see that the trash directory is not there:</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ ls
install.sh  VagrantFile</pre> 
  </div> 
  <p>But now we have the trash directory which is useless for us. What if we want to go back in time when everything was clean?</p> 
 </div> 
 <div class="section"> 
  <h3 id="Going_back_to_a_snapshot">Going back to a snapshot</h3> 
  <p>A snapshot is like a frozen picture of the virtual machine. You take that picture and you can order the virtual machine to go back to that state. On the previous section we took the &quot;clean&quot; snapshot. Now, let's go back to that snapshot. WARNING! You are about to erase everything you have done since you took the &quot;clean&quot; snapshot.</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant go clean
vagrant@vagrant-ubuntu-trusty-32:~$</pre> 
  </div> 
  <p>Vagrant puts you back to the guest console when you go back to a snapshot. Now you can run ls again and see that the trash directory is gone.</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ ls</pre> 
  </div> 
  <p>Now you can see nothing. What if you want to do the opposite, going further in time? You can't. In order to go to a certain state, you need to explicitly ask Vagrant to take a snapshot. If you wanted to go back to that state you should have taken a snapshot when you were at that state. So let us create another file called trashAgain, which will help us understand the process.</p> 
  <div> 
   <pre>vagrant@vagrant-ubuntu-trusty-32:~$ mkdir trashAgain
vagrant@vagrant-ubuntu-trusty-32:~$ ls
trashAgain</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Taking_a_snapshot">Taking a snapshot</h3> 
  <p>Now we can take another snapshot and name it x. In order to take a snapshot we need to go back to the host machine. It is interesting to note that the guest machine cannot do anything like that. The guest machine does not know that it is itself a virtual machine.</p> 
  <p>Now we can take another snapshot and name it x. In order to take a snapshot we need to go back to the host machine.</p> 
  <div> 
   <pre>vagrant@vagrant-ubuntu-trusty-32:~$ exit
user@host:~/JavaClasses$ vagrant take x</pre> 
  </div> 
  <p>Now we will go back to the &quot;clean&quot; state, which did not have the directory called &quot;trashAgain&quot;.</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant go clean
vagrant@vagrant-ubuntu-trusty-32:~$ ls
(nothing)
vagrant@vagrant-ubuntu-trusty-32:~$ exit</pre> 
  </div> 
  <p>Now let's go to the &quot;x&quot; state and see the &quot;trashAgain&quot; directory reappearing:</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant go x
vagrant@vagrant-ubuntu-trusty-32:~$ ls
trashAgain</pre> 
  </div> 
  <p>Now let's go back to the clean state.</p> 
  <div> 
   <pre>vagrant@vagrant-ubuntu-trusty-32:~$ exit
user@host:~/JavaClasses$ vagrant go clean
vagrant@vagrant-ubuntu-trusty-32:~$ exit
user@host:~/JavaClasses$ </pre> 
  </div> 
  <p>We have two snapshots, let's learn how to list them:</p> 
 </div> 
 <div class="section"> 
  <h3 id="Listing_snapshots">Listing snapshots</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant snapshot list
clean x</pre> 
  </div> 
  <p>We don't need the &quot;x&quot; snapshot, which only contains trash. So we can then remove it:</p> 
 </div> 
 <div class="section"> 
  <h3 id="Removing_a_snapshot">Removing a snapshot</h3> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant snapshot delete x
user@host:~/JavaClasses$ vagrant snapshot list
clean</pre> 
  </div> 
  <p>As you can see, now you have only the &quot;clean&quot; snapshot.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Rule_of_thumb">Rule of thumb</h3> 
  <p>Never type the following command again:</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant take clean</pre> 
  </div> 
  <p>If you type this command again you will modify the &quot;clean&quot; state. We don't want this! We want the clean state to be just like we defined on the previous part.</p> 
  <p>Therefore, as long as you do not change the &quot;clean&quot; state, you can always go back to it by typing:</p> 
  <div> 
   <pre>user@host:~/JavaClasses$ vagrant go clean</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Sharing_your_Vagrant_box">Sharing your Vagrant box</h3> 
  <p>Once you have configured your virtual machine box, you can use Vagrant to share such a box by typing the following:</p> 
  <div> 
   <pre>vagrant package --base zeroToJava</pre> 
  </div> 
  <p>This command will create a file called package.box, which can be used to create copies of the same virtual machine on another computer.</p> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#v_Vagrant_mini_tutorial" title="v. Vagrant mini tutorial">v. Vagrant mini tutorial <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Checking_the_status" title="Checking the status">Checking the status</a>
		<li><a href="#Starting_the_virtual_machine" title="Starting the virtual machine">Starting the virtual machine</a>
		<li><a href="#Configuration_to_show_VirtualBoxs_graphical_window" title="Configuration to show VirtualBox's graphical window">Configuration to show VirtualBox's graphical window</a>
		<li><a href="#Stopping_the_virtual_machine" title="Stopping the virtual machine">Stopping the virtual machine</a>
		<li><a href="#Accessing_the_virtual_machine_terminal" title="Accessing the virtual machine terminal">Accessing the virtual machine terminal</a>
		<li><a href="#Leaving_the_virtual_machine" title="Leaving the virtual machine">Leaving the virtual machine</a>
		<li><a href="#Going_back_to_a_snapshot" title="Going back to a snapshot">Going back to a snapshot</a>
		<li><a href="#Taking_a_snapshot" title="Taking a snapshot">Taking a snapshot</a>
		<li><a href="#Listing_snapshots" title="Listing snapshots">Listing snapshots</a>
		<li><a href="#Removing_a_snapshot" title="Removing a snapshot">Removing a snapshot</a>
		<li><a href="#Rule_of_thumb" title="Rule of thumb">Rule of thumb</a>
		<li><a href="#Sharing_your_Vagrant_box" title="Sharing your Vagrant box">Sharing your Vagrant box</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#More_info" title="More info">More info</a>
					</ul>
				</div>
			</div>
			<div class="well sidebar">
	<h2 id="More_info">More info</h2>
<p>For more information about Vagrant and snapshot commands please check:</p>
<p><a class="externalLink" href="http://docs.vagrantup.com/v2/">http://docs.vagrantup.com/v2/</a></p>
<p><a class="externalLink" href="http://priyaaank.tumblr.com/post/50707609769/snapshotting-vagrant">http://priyaaank.tumblr.com/.../snapshotting-vagrant</a></p>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Intro</li>
						<li >
							<a href="index.html" title="Getting started">Getting started</a>
						</li>
						<li >
							<a href="i-introduction.html" title="i. Introduction">i. Introduction</a>
						</li>
						<li >
							<a href="ii-course-material.html" title="ii. Course Material">ii. Course Material</a>
						</li>
						<li >
							<a href="iii-env-description.html" title="iii. Environment description">iii. Environment description</a>
						</li>
						<li >
							<a href="iv-setting-up-the-environment.html" title="iv. Setting up the Environment">iv. Setting up the Environment <i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li >
							<a href="iv-setting-up-the-environment-linux.html" title="Step 1 - Setting up the Environment - Linux">Step 1 - Setting up the Environment - Linux</a>
						</li>
						<li >
							<a href="iv-setting-up-the-environment-windows.html" title="Step 1 - Setting up the Environment - Windows">Step 1 - Setting up the Environment - Windows</a>
						</li>
						<li >
							<a href="iv-setting-up-the-environment-download-vm.html" title="Step 2 - Download the Java classes VM">Step 2 - Download the Java classes VM</a>
						</li>
						<li >
							<a href="iv-setting-up-the-environment-create-vm.html" title="Step 2 - Create Java classes VM from a Ubuntu VM">Step 2 - Create Java classes VM from a Ubuntu VM</a>
						</li>
						<li >
							<a href="iv-setting-up-the-environment-shortcut.html" title="Steps 1 and 2 - Linux Shortcut">Steps 1 and 2 - Linux Shortcut</a>
						</li>
							</ul>
						</li>
						<li class="active">
							<a href="#" title="v. Vagrant - Mini Tutorial">v. Vagrant - Mini Tutorial</a>
						</li>
						<li class="nav-header">Lessons</li>
						<li >
							<a href="../lessons/index.html" title="Lessons">Lessons <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="../faq.html" title="FAQ">FAQ</a>
						</li>
						<li class="nav-header">Languages</li>
						<li >
							<a href="../index.html" title="English">English</a>
						</li>
						<li >
							<a href="../pt/index.html" title="Português do Brasil">Português do Brasil</a>
						</li>
						<li class="nav-header">Project Documentation</li>
						<li >
							<a href="../project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
						<li class="nav-header">About</li>
						<li >
							<a href="../about.html" title="About this site">About this site</a>
						</li>
						<li >
							<a href="../license.html" title="License">License</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">FromZeroToJava</span> is a Java course for
       anyone who knows nothing about computer programming. Our method is based
       on industry-proven processes and tools. Along with Java, we also introduce
       the best Free Software tools that all Java programmer should be familiar
       with.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2015. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="../js/reflow-skin.js"></script>

	</body>
</html>
